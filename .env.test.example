# Test Environment Template
# Copy this file to .env.test.local and customize as needed

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Local Supabase instance (started with `supabase start`)
VITE_SUPABASE_URL=http://127.0.0.1:54321
VITE_SUPABASE_ANON_KEY=your_local_supabase_anon_key_here

# Database connection for local testing
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# =============================================================================
# TEST STRATEGY CONFIGURATION
# =============================================================================

# Set to "true" to force using mocks even in local environment
# Useful for testing mock implementations
VITE_TEST_USE_MOCKS=false

# Set to "true" to enable local database testing
# Requires Supabase local instance to be running
VITE_TEST_USE_LOCAL_DB=true

# Set to "true" to enable debug logging in tests
VITE_VITEST_DEBUG=false

# =============================================================================
# CI/CD CONFIGURATION
# =============================================================================

# These are automatically set in CI environments
# CI=true
# GITHUB_ACTIONS=true

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Node environment for testing
NODE_ENV=test

# Disable telemetry and analytics in test environment
VITE_ANALYTICS_ENABLED=false
VITE_TELEMETRY_ENABLED=false

# Test-specific feature flags
VITE_TEST_SKIP_AUTH=true
VITE_TEST_MOCK_EXTERNAL_APIS=true

# =============================================================================
# USAGE INSTRUCTIONS
# =============================================================================
#
# 1. For CI/Mock Testing (default):
#    - No additional setup needed
#    - Tests use comprehensive mocks
#    - Fast execution, no external dependencies
#
# 2. For Local Database Testing:
#    - Start Supabase: `supabase start`
#    - Set VITE_TEST_USE_LOCAL_DB=true
#    - Set VITE_TEST_USE_MOCKS=false
#    - Run tests: `npm run test`
#
# 3. For Integration Testing:
#    - Use PowerShell script: `.\scripts\test-local-db.ps1 test`
#    - Script handles Supabase startup and environment configuration
#
# 4. Environment Priority:
#    - CI environment: Always uses mocks
#    - VITE_TEST_USE_MOCKS=true: Forces mocks
#    - VITE_TEST_USE_LOCAL_DB=true: Uses local Supabase (if running)
#    - Default: Uses mocks for safety
#
